import{c as B,r as n,u as F,q as R,j as e,m as r,s as U,b as f,t as L,v as M,A as H,X as z,P as m}from"./index-BgfU13Nz.js";import{p as W}from"./profileService-DbdqCSzk.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=B("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),E=({message:t,type:g,onClose:i})=>{const c={initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100}};return e.jsxs(r.div,{variants:c,initial:"initial",animate:"animate",exit:"exit",className:"flex items-center w-80 p-4 rounded-lg border shadow-lg bg-[#FAF4ED] text-[#403C5C] border-[#CBAACB]",children:[e.jsx("div",{className:"flex-shrink-0",children:g==="success"?"ðŸš€":e.jsx($,{})}),e.jsx("div",{className:"ml-3 flex-grow font-medium text-sm",children:t}),e.jsx("button",{onClick:i,className:"flex-shrink-0 ml-2 text-current opacity-70 hover:opacity-100",children:e.jsx(z,{className:"w-4 h-4"})})]})};E.propTypes={message:m.string.isRequired,type:m.oneOf(["success","error"]).isRequired,onClose:m.func.isRequired};const P=({children:t})=>e.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2",children:e.jsx(H,{children:t})});P.propTypes={children:m.node.isRequired};const G=()=>{var S;const[t,g]=n.useState(!1),[i,c]=n.useState(""),[d,h]=n.useState(""),[y,b]=n.useState(""),[p,u]=n.useState(""),[A,C]=n.useState([]),[a,x]=n.useState(!1),w=F(),k=((S=R().state)==null?void 0:S.from)||"/",v=(s,o)=>{const l=Math.random().toString(36).substr(2,9);C(q=>[...q,{id:l,message:s,type:o}]),setTimeout(()=>j(l),3e3)},j=s=>{C(o=>o.filter(l=>l.id!==s))},N=()=>{g(s=>!s),c(""),h(""),b(""),u("")},T=async s=>{s.preventDefault(),x(!0);try{const{user:o}=await M(f,i,d);await W.initializeProfile(y,i),v("Account created successfully!","success"),N(),w("/")}catch(o){u(o.message)}finally{x(!1)}},D=async s=>{s.preventDefault(),x(!0);try{await U(f,i,d),w(k)}catch(o){const l=o.code==="auth/invalid-credential"?"This email is not registered. Please sign up instead.":o.message;u(l)}finally{x(!1)}},I=async()=>{if(!i){u("Please enter your email to reset the password.");return}try{const s={url:`${window.location.origin}/reset-password`,handleCodeInApp:!0};await L(f,i,s),v("Password reset email sent! Check your inbox.","success")}catch(s){const o=s.code==="auth/user-not-found"?"No account found with this email.":"Failed to send password reset email. Please try again.";u(o)}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-tr from-[#ECE4DA] via-[#D6CFE9] to-[#CBAACB]",children:[e.jsxs("div",{className:"relative bg-white shadow-2xl overflow-hidden w-[90%] max-w-5xl h-[500px] flex",children:[e.jsxs(r.div,{className:`w-1/2 px-10 py-12 ${t?"hidden":"block"}`,initial:{opacity:0,x:"100%"},animate:t?{opacity:0}:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{duration:.5},children:[e.jsx("h1",{className:"text-3xl font-extrabold text-[#403C5C] mb-6",children:"Sign In"}),p&&e.jsx("p",{className:"text-red-500 text-sm mb-4",children:p}),e.jsxs("form",{className:"flex flex-col gap-4",onSubmit:D,children:[e.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:s=>c(s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D4C1EC]",required:!0,disabled:a}),e.jsx("input",{type:"password",placeholder:"Password",value:d,onChange:s=>h(s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D4C1EC]",required:!0,disabled:a}),e.jsx("button",{type:"button",onClick:I,className:"text-sm text-[#5C6BC0] hover:underline disabled:opacity-50",disabled:a,children:"Forgot Your Password?"}),e.jsx(r.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full py-3 bg-[#403C5C] text-white font-semibold rounded-lg hover:bg-[#5C6BC0] disabled:opacity-50",disabled:a,children:a?"Signing In...":"Sign In"})]})]}),e.jsxs(r.div,{className:`w-1/2 px-10 py-12 ${t?"block":"hidden"}`,initial:{opacity:0,x:"-100%"},animate:t?{opacity:1,x:0}:{opacity:0},exit:{opacity:0,x:"-100%"},transition:{duration:.5},children:[e.jsx("h1",{className:"text-3xl font-extrabold text-[#403C5C] mb-6",children:"Create Account"}),p&&e.jsx("p",{className:"text-red-500 text-sm mb-4",children:p}),e.jsxs("form",{className:"flex flex-col gap-4",onSubmit:T,children:[e.jsx("input",{type:"text",placeholder:"Name",value:y,onChange:s=>b(s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D4C1EC]",required:!0,disabled:a}),e.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:s=>c(s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D4C1EC]",required:!0,disabled:a}),e.jsx("input",{type:"password",placeholder:"Password",value:d,onChange:s=>h(s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D4C1EC]",required:!0,disabled:a}),e.jsx(r.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full py-3 bg-[#403C5C] text-white font-semibold rounded-lg hover:bg-[#5C6BC0] disabled:opacity-50",disabled:a,children:a?"Creating Account...":"Sign Up"})]})]}),e.jsxs(r.div,{className:"w-2/3 sm:w-3/4 bg-gradient-to-br from-[#403C5C] to-[#5C6BC0] text-white flex flex-col justify-center items-center px-8 py-6 text-center",animate:{clipPath:t?"polygon(0 0, 100% 0, 100% 100%, 30% 100%)":"polygon(20% 0px, 100% 0px, 100% 100%, 0% 100%)"},initial:{clipPath:t?"polygon(22% 0px, 100% 0px, 100% 100%, 0% 100%)":"polygon(0 0, 100% 0, 100% 100%, 32% 100%)"},transition:{duration:.8,ease:"easeInOut"},children:[e.jsx("h2",{className:"text-2xl font-extrabold mb-4",children:t?"Welcome Back!":"Hello, Friend!"}),e.jsx("p",{className:"text-base leading-relaxed px-4 sm:px-6 md:px-8 lg:px-10",children:t?"Sign in to access your account and continue your journey.":"Create an account to unlock personalized resources and tools."}),e.jsx(r.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:N,className:"mt-6 px-6 py-2 bg-white text-[#403C5C] font-semibold rounded-lg shadow-lg hover:bg-[#ECE4DA]",disabled:a,children:t?"Sign In":"Sign Up"})]})]}),e.jsx(P,{children:A.map(s=>e.jsx(E,{message:s.message,type:s.type,onClose:()=>j(s.id)},s.id))})]})};export{G as default};
