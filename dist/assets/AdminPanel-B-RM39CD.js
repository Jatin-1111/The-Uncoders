import{G as Qt,H as Jt,c as F,r as o,j as n,I as er,_ as W,J as at,K as tr,X as he,u as rr,M as nr,N as ar,O as sr,A as $e,m as Re,b as or}from"./index-BgfU13Nz.js";import{C as H,c as J,a as ne,b as ae}from"./card-Cq7a8m_h.js";import{c as Z,a as ir}from"./cn-JCLedEej.js";import{a as se,u as cr}from"./firebaseserivce-DaDA8FeV.js";import{S as lr,E as ur,c as ee}from"./curriculumService-BDFLxzgk.js";import{U as dr,B as fr}from"./users-D69rPQJW.js";var st=Jt();const mr=Qt(st);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=F("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=F("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=F("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=F("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=F("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=F("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=F("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=F("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);function B(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function ze(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ot(...e){return t=>{let r=!1;const a=e.map(s=>{const i=ze(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():ze(e[s],null)}}}}function z(...e){return o.useCallback(ot(...e),e)}function Nr(e,t){const r=o.createContext(t),a=i=>{const{children:l,...c}=i,m=o.useMemo(()=>c,Object.values(c));return n.jsx(r.Provider,{value:m,children:l})};a.displayName=e+"Provider";function s(i){const l=o.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function Cr(e,t=[]){let r=[];function a(i,l){const c=o.createContext(l),m=r.length;r=[...r,l];const f=v=>{var N;const{scope:p,children:y,...S}=v,d=((N=p==null?void 0:p[e])==null?void 0:N[m])||c,g=o.useMemo(()=>S,Object.values(S));return n.jsx(d.Provider,{value:g,children:y})};f.displayName=i+"Provider";function h(v,p){var d;const y=((d=p==null?void 0:p[e])==null?void 0:d[m])||c,S=o.useContext(y);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${i}\``)}return[f,h]}const s=()=>{const i=r.map(l=>o.createContext(l));return function(c){const m=(c==null?void 0:c[e])||i;return o.useMemo(()=>({[`__scope${e}`]:{...c,[e]:m}}),[c,m])}};return s.scopeName=e,[a,wr(s,...t)]}function wr(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=a.reduce((c,{useScope:m,scopeName:f})=>{const v=m(i)[`__scope${f}`];return{...c,...v}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var ve=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{},jr=er.useId||(()=>{}),Er=0;function Ce(e){const[t,r]=o.useState(jr());return ve(()=>{r(a=>a??String(Er++))},[e]),e||(t?`radix-${t}`:"")}function V(e){const t=o.useRef(e);return o.useEffect(()=>{t.current=e}),o.useMemo(()=>(...r)=>{var a;return(a=t.current)==null?void 0:a.call(t,...r)},[])}function Sr({prop:e,defaultProp:t,onChange:r=()=>{}}){const[a,s]=Ar({defaultProp:t,onChange:r}),i=e!==void 0,l=i?e:a,c=V(r),m=o.useCallback(f=>{if(i){const v=typeof f=="function"?f(e):f;v!==e&&c(v)}else s(f)},[i,e,s,c]);return[l,m]}function Ar({defaultProp:e,onChange:t}){const r=o.useState(e),[a]=r,s=o.useRef(a),i=V(t);return o.useEffect(()=>{s.current!==a&&(i(a),s.current=a)},[a,s,i]),r}var ge=o.forwardRef((e,t)=>{const{children:r,...a}=e,s=o.Children.toArray(r),i=s.find(Dr);if(i){const l=i.props.children,c=s.map(m=>m===i?o.Children.count(l)>1?o.Children.only(null):o.isValidElement(l)?l.props.children:null:m);return n.jsx(Pe,{...a,ref:t,children:o.isValidElement(l)?o.cloneElement(l,void 0,c):null})}return n.jsx(Pe,{...a,ref:t,children:r})});ge.displayName="Slot";var Pe=o.forwardRef((e,t)=>{const{children:r,...a}=e;if(o.isValidElement(r)){const s=Pr(r);return o.cloneElement(r,{...Rr(a,r.props),ref:t?ot(t,s):s})}return o.Children.count(r)>1?o.Children.only(null):null});Pe.displayName="SlotClone";var kr=({children:e})=>n.jsx(n.Fragment,{children:e});function Dr(e){return o.isValidElement(e)&&e.type===kr}function Rr(e,t){const r={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?r[a]=(...c)=>{i(...c),s(...c)}:s&&(r[a]=s):a==="style"?r[a]={...s,...i}:a==="className"&&(r[a]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Pr(e){var a,s;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Tr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],I=Tr.reduce((e,t)=>{const r=o.forwardRef((a,s)=>{const{asChild:i,...l}=a,c=i?ge:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Or(e,t){e&&st.flushSync(()=>e.dispatchEvent(t))}function Mr(e,t=globalThis==null?void 0:globalThis.document){const r=V(e);o.useEffect(()=>{const a=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var Lr="DismissableLayer",Te="dismissableLayer.update",Fr="dismissableLayer.pointerDownOutside",Ir="dismissableLayer.focusOutside",He,it=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ct=o.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...m}=e,f=o.useContext(it),[h,v]=o.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=o.useState({}),S=z(t,E=>v(E)),d=Array.from(f.layers),[g]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=d.indexOf(g),D=h?d.indexOf(h):-1,j=f.layersWithOutsidePointerEventsDisabled.size>0,C=D>=N,A=Wr(E=>{const T=E.target,L=[...f.branches].some(M=>M.contains(T));!C||L||(s==null||s(E),l==null||l(E),E.defaultPrevented||c==null||c())},p),P=Br(E=>{const T=E.target;[...f.branches].some(M=>M.contains(T))||(i==null||i(E),l==null||l(E),E.defaultPrevented||c==null||c())},p);return Mr(E=>{D===f.layers.size-1&&(a==null||a(E),!E.defaultPrevented&&c&&(E.preventDefault(),c()))},p),o.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(He=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),Ye(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=He)}},[h,p,r,f]),o.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),Ye())},[h,f]),o.useEffect(()=>{const E=()=>y({});return document.addEventListener(Te,E),()=>document.removeEventListener(Te,E)},[]),n.jsx(I.div,{...m,ref:S,style:{pointerEvents:j?C?"auto":"none":void 0,...e.style},onFocusCapture:B(e.onFocusCapture,P.onFocusCapture),onBlurCapture:B(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:B(e.onPointerDownCapture,A.onPointerDownCapture)})});ct.displayName=Lr;var _r="DismissableLayerBranch",Ur=o.forwardRef((e,t)=>{const r=o.useContext(it),a=o.useRef(null),s=z(t,a);return o.useEffect(()=>{const i=a.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(I.div,{...e,ref:s})});Ur.displayName=_r;function Wr(e,t=globalThis==null?void 0:globalThis.document){const r=V(e),a=o.useRef(!1),s=o.useRef(()=>{});return o.useEffect(()=>{const i=c=>{if(c.target&&!a.current){let m=function(){lt(Fr,r,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=m,t.addEventListener("click",s.current,{once:!0})):m()}else t.removeEventListener("click",s.current);a.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function Br(e,t=globalThis==null?void 0:globalThis.document){const r=V(e),a=o.useRef(!1);return o.useEffect(()=>{const s=i=>{i.target&&!a.current&&lt(Ir,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Ye(){const e=new CustomEvent(Te);document.dispatchEvent(e)}function lt(e,t,r,{discrete:a}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?Or(s,i):s.dispatchEvent(i)}var we="focusScope.autoFocusOnMount",je="focusScope.autoFocusOnUnmount",Ke={bubbles:!1,cancelable:!0},$r="FocusScope",ut=o.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=e,[c,m]=o.useState(null),f=V(s),h=V(i),v=o.useRef(null),p=z(t,d=>m(d)),y=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(a){let d=function(j){if(y.paused||!c)return;const C=j.target;c.contains(C)?v.current=C:U(v.current,{select:!0})},g=function(j){if(y.paused||!c)return;const C=j.relatedTarget;C!==null&&(c.contains(C)||U(v.current,{select:!0}))},N=function(j){if(document.activeElement===document.body)for(const A of j)A.removedNodes.length>0&&U(c)};document.addEventListener("focusin",d),document.addEventListener("focusout",g);const D=new MutationObserver(N);return c&&D.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",d),document.removeEventListener("focusout",g),D.disconnect()}}},[a,c,y.paused]),o.useEffect(()=>{if(c){Xe.add(y);const d=document.activeElement;if(!c.contains(d)){const N=new CustomEvent(we,Ke);c.addEventListener(we,f),c.dispatchEvent(N),N.defaultPrevented||(Vr(Kr(dt(c)),{select:!0}),document.activeElement===d&&U(c))}return()=>{c.removeEventListener(we,f),setTimeout(()=>{const N=new CustomEvent(je,Ke);c.addEventListener(je,h),c.dispatchEvent(N),N.defaultPrevented||U(d??document.body,{select:!0}),c.removeEventListener(je,h),Xe.remove(y)},0)}}},[c,f,h,y]);const S=o.useCallback(d=>{if(!r&&!a||y.paused)return;const g=d.key==="Tab"&&!d.altKey&&!d.ctrlKey&&!d.metaKey,N=document.activeElement;if(g&&N){const D=d.currentTarget,[j,C]=qr(D);j&&C?!d.shiftKey&&N===C?(d.preventDefault(),r&&U(j,{select:!0})):d.shiftKey&&N===j&&(d.preventDefault(),r&&U(C,{select:!0})):N===D&&d.preventDefault()}},[r,a,y.paused]);return n.jsx(I.div,{tabIndex:-1,...l,ref:p,onKeyDown:S})});ut.displayName=$r;function Vr(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(U(a,{select:t}),document.activeElement!==r)return}function qr(e){const t=dt(e),r=Ge(t,e),a=Ge(t.reverse(),e);return[r,a]}function dt(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ge(e,t){for(const r of e)if(!zr(r,{upTo:t}))return r}function zr(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Hr(e){return e instanceof HTMLInputElement&&"select"in e}function U(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Hr(e)&&t&&e.select()}}var Xe=Yr();function Yr(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Ze(e,t),e.unshift(t)},remove(t){var r;e=Ze(e,t),(r=e[0])==null||r.resume()}}}function Ze(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function Kr(e){return e.filter(t=>t.tagName!=="A")}var Gr="Portal",ft=o.forwardRef((e,t)=>{var c;const{container:r,...a}=e,[s,i]=o.useState(!1);ve(()=>i(!0),[]);const l=r||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?mr.createPortal(n.jsx(I.div,{...a,ref:t}),l):null});ft.displayName=Gr;function Xr(e,t){return o.useReducer((r,a)=>t[r][a]??r,e)}var xe=e=>{const{present:t,children:r}=e,a=Zr(t),s=typeof r=="function"?r({present:a.isPresent}):o.Children.only(r),i=z(a.ref,Qr(s));return typeof r=="function"||a.isPresent?o.cloneElement(s,{ref:i}):null};xe.displayName="Presence";function Zr(e){const[t,r]=o.useState(),a=o.useRef({}),s=o.useRef(e),i=o.useRef("none"),l=e?"mounted":"unmounted",[c,m]=Xr(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const f=oe(a.current);i.current=c==="mounted"?f:"none"},[c]),ve(()=>{const f=a.current,h=s.current;if(h!==e){const p=i.current,y=oe(f);e?m("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?m("UNMOUNT"):m(h&&p!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,m]),ve(()=>{if(t){let f;const h=t.ownerDocument.defaultView??window,v=y=>{const d=oe(a.current).includes(y.animationName);if(y.target===t&&d&&(m("ANIMATION_END"),!s.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",f=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},p=y=>{y.target===t&&(i.current=oe(a.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{h.clearTimeout(f),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:o.useCallback(f=>{f&&(a.current=getComputedStyle(f)),r(f)},[])}}function oe(e){return(e==null?void 0:e.animationName)||"none"}function Qr(e){var a,s;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ee=0;function Jr(){o.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Qe()),document.body.insertAdjacentElement("beforeend",e[1]??Qe()),Ee++,()=>{Ee===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ee--}},[])}function Qe(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var de="right-scroll-bar-position",fe="width-before-scroll-bar",en="with-scroll-bars-hidden",tn="--removed-body-scroll-bar-size";function Se(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function rn(e,t){var r=o.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var s=r.value;s!==a&&(r.value=a,r.callback(a,s))}}}})[0];return r.callback=t,r.facade}var nn=typeof window<"u"?o.useLayoutEffect:o.useEffect,Je=new WeakMap;function an(e,t){var r=rn(null,function(a){return e.forEach(function(s){return Se(s,a)})});return nn(function(){var a=Je.get(r);if(a){var s=new Set(a),i=new Set(e),l=r.current;s.forEach(function(c){i.has(c)||Se(c,null)}),i.forEach(function(c){s.has(c)||Se(c,l)})}Je.set(r,e)},[e]),r}function sn(e){return e}function on(e,t){t===void 0&&(t=sn);var r=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var l=t(i,a);return r.push(l),function(){r=r.filter(function(c){return c!==l})}},assignSyncMedium:function(i){for(a=!0;r.length;){var l=r;r=[],l.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){a=!0;var l=[];if(r.length){var c=r;r=[],c.forEach(i),l=r}var m=function(){var h=l;l=[],h.forEach(i)},f=function(){return Promise.resolve().then(m)};f(),r={push:function(h){l.push(h),f()},filter:function(h){return l=l.filter(h),r}}}};return s}function cn(e){e===void 0&&(e={});var t=on(null);return t.options=W({async:!0,ssr:!1},e),t}var mt=function(e){var t=e.sideCar,r=at(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return o.createElement(a,W({},r))};mt.isSideCarExport=!0;function ln(e,t){return e.useMedium(t),mt}var ht=cn(),Ae=function(){},ye=o.forwardRef(function(e,t){var r=o.useRef(null),a=o.useState({onScrollCapture:Ae,onWheelCapture:Ae,onTouchMoveCapture:Ae}),s=a[0],i=a[1],l=e.forwardProps,c=e.children,m=e.className,f=e.removeScrollBar,h=e.enabled,v=e.shards,p=e.sideCar,y=e.noIsolation,S=e.inert,d=e.allowPinchZoom,g=e.as,N=g===void 0?"div":g,D=e.gapMode,j=at(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,A=an([r,t]),P=W(W({},j),s);return o.createElement(o.Fragment,null,h&&o.createElement(C,{sideCar:ht,removeScrollBar:f,shards:v,noIsolation:y,inert:S,setCallbacks:i,allowPinchZoom:!!d,lockRef:r,gapMode:D}),l?o.cloneElement(o.Children.only(c),W(W({},P),{ref:A})):o.createElement(N,W({},P,{className:m,ref:A}),c))});ye.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ye.classNames={fullWidth:fe,zeroRight:de};var un=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dn(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=un();return t&&e.setAttribute("nonce",t),e}function fn(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function mn(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var hn=function(){var e=0,t=null;return{add:function(r){e==0&&(t=dn())&&(fn(t,r),mn(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},vn=function(){var e=hn();return function(t,r){o.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},vt=function(){var e=vn(),t=function(r){var a=r.styles,s=r.dynamic;return e(a,s),null};return t},pn={left:0,top:0,right:0,gap:0},ke=function(e){return parseInt(e||"",10)||0},gn=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ke(r),ke(a),ke(s)]},xn=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pn;var t=gn(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},yn=vt(),X="data-scroll-locked",bn=function(e,t,r,a){var s=e.left,i=e.top,l=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(en,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(c,"px ").concat(a,`;
  }
  body[`).concat(X,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(de,` {
    right: `).concat(c,"px ").concat(a,`;
  }
  
  .`).concat(fe,` {
    margin-right: `).concat(c,"px ").concat(a,`;
  }
  
  .`).concat(de," .").concat(de,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(fe," .").concat(fe,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(X,`] {
    `).concat(tn,": ").concat(c,`px;
  }
`)},et=function(){var e=parseInt(document.body.getAttribute(X)||"0",10);return isFinite(e)?e:0},Nn=function(){o.useEffect(function(){return document.body.setAttribute(X,(et()+1).toString()),function(){var e=et()-1;e<=0?document.body.removeAttribute(X):document.body.setAttribute(X,e.toString())}},[])},Cn=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;Nn();var i=o.useMemo(function(){return xn(s)},[s]);return o.createElement(yn,{styles:bn(i,!t,s,r?"":"!important")})},Oe=!1;if(typeof window<"u")try{var ie=Object.defineProperty({},"passive",{get:function(){return Oe=!0,!0}});window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{Oe=!1}var Y=Oe?{passive:!1}:!1,wn=function(e){return e.tagName==="TEXTAREA"},pt=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!wn(e)&&r[t]==="visible")},jn=function(e){return pt(e,"overflowY")},En=function(e){return pt(e,"overflowX")},tt=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=gt(e,a);if(s){var i=xt(e,a),l=i[1],c=i[2];if(l>c)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},Sn=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},An=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},gt=function(e,t){return e==="v"?jn(t):En(t)},xt=function(e,t){return e==="v"?Sn(t):An(t)},kn=function(e,t){return e==="h"&&t==="rtl"?-1:1},Dn=function(e,t,r,a,s){var i=kn(e,window.getComputedStyle(t).direction),l=i*a,c=r.target,m=t.contains(c),f=!1,h=l>0,v=0,p=0;do{var y=xt(e,c),S=y[0],d=y[1],g=y[2],N=d-g-i*S;(S||N)&&gt(e,c)&&(v+=N,p+=S),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!m&&c!==document.body||m&&(t.contains(c)||t===c));return(h&&Math.abs(v)<1||!h&&Math.abs(p)<1)&&(f=!0),f},ce=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rt=function(e){return[e.deltaX,e.deltaY]},nt=function(e){return e&&"current"in e?e.current:e},Rn=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Pn=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Tn=0,K=[];function On(e){var t=o.useRef([]),r=o.useRef([0,0]),a=o.useRef(),s=o.useState(Tn++)[0],i=o.useState(vt)[0],l=o.useRef(e);o.useEffect(function(){l.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var d=tr([e.lockRef.current],(e.shards||[]).map(nt),!0).filter(Boolean);return d.forEach(function(g){return g.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),d.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=o.useCallback(function(d,g){if("touches"in d&&d.touches.length===2||d.type==="wheel"&&d.ctrlKey)return!l.current.allowPinchZoom;var N=ce(d),D=r.current,j="deltaX"in d?d.deltaX:D[0]-N[0],C="deltaY"in d?d.deltaY:D[1]-N[1],A,P=d.target,E=Math.abs(j)>Math.abs(C)?"h":"v";if("touches"in d&&E==="h"&&P.type==="range")return!1;var T=tt(E,P);if(!T)return!0;if(T?A=E:(A=E==="v"?"h":"v",T=tt(E,P)),!T)return!1;if(!a.current&&"changedTouches"in d&&(j||C)&&(a.current=A),!A)return!0;var L=a.current||A;return Dn(L,g,d,L==="h"?j:C)},[]),m=o.useCallback(function(d){var g=d;if(!(!K.length||K[K.length-1]!==i)){var N="deltaY"in g?rt(g):ce(g),D=t.current.filter(function(A){return A.name===g.type&&(A.target===g.target||g.target===A.shadowParent)&&Rn(A.delta,N)})[0];if(D&&D.should){g.cancelable&&g.preventDefault();return}if(!D){var j=(l.current.shards||[]).map(nt).filter(Boolean).filter(function(A){return A.contains(g.target)}),C=j.length>0?c(g,j[0]):!l.current.noIsolation;C&&g.cancelable&&g.preventDefault()}}},[]),f=o.useCallback(function(d,g,N,D){var j={name:d,delta:g,target:N,should:D,shadowParent:Mn(N)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(C){return C!==j})},1)},[]),h=o.useCallback(function(d){r.current=ce(d),a.current=void 0},[]),v=o.useCallback(function(d){f(d.type,rt(d),d.target,c(d,e.lockRef.current))},[]),p=o.useCallback(function(d){f(d.type,ce(d),d.target,c(d,e.lockRef.current))},[]);o.useEffect(function(){return K.push(i),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:p}),document.addEventListener("wheel",m,Y),document.addEventListener("touchmove",m,Y),document.addEventListener("touchstart",h,Y),function(){K=K.filter(function(d){return d!==i}),document.removeEventListener("wheel",m,Y),document.removeEventListener("touchmove",m,Y),document.removeEventListener("touchstart",h,Y)}},[]);var y=e.removeScrollBar,S=e.inert;return o.createElement(o.Fragment,null,S?o.createElement(i,{styles:Pn(s)}):null,y?o.createElement(Cn,{gapMode:e.gapMode}):null)}function Mn(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Ln=ln(ht,On);var yt=o.forwardRef(function(e,t){return o.createElement(ye,W({},e,{ref:t,sideCar:Ln}))});yt.classNames=ye.classNames;var Fn=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},G=new WeakMap,le=new WeakMap,ue={},De=0,bt=function(e){return e&&(e.host||bt(e.parentNode))},In=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=bt(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},_n=function(e,t,r,a){var s=In(t,Array.isArray(e)?e:[e]);ue[r]||(ue[r]=new WeakMap);var i=ue[r],l=[],c=new Set,m=new Set(s),f=function(v){!v||c.has(v)||(c.add(v),f(v.parentNode))};s.forEach(f);var h=function(v){!v||m.has(v)||Array.prototype.forEach.call(v.children,function(p){if(c.has(p))h(p);else try{var y=p.getAttribute(a),S=y!==null&&y!=="false",d=(G.get(p)||0)+1,g=(i.get(p)||0)+1;G.set(p,d),i.set(p,g),l.push(p),d===1&&S&&le.set(p,!0),g===1&&p.setAttribute(r,"true"),S||p.setAttribute(a,"true")}catch(N){console.error("aria-hidden: cannot operate on ",p,N)}})};return h(t),c.clear(),De++,function(){l.forEach(function(v){var p=G.get(v)-1,y=i.get(v)-1;G.set(v,p),i.set(v,y),p||(le.has(v)||v.removeAttribute(a),le.delete(v)),y||v.removeAttribute(r)}),De--,De||(G=new WeakMap,G=new WeakMap,le=new WeakMap,ue={})}},Un=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=Fn(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live]"))),_n(a,s,r,"aria-hidden")):function(){return null}},Me="Dialog",[Nt,ua]=Cr(Me),[Wn,O]=Nt(Me),Ct=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,c=o.useRef(null),m=o.useRef(null),[f=!1,h]=Sr({prop:a,defaultProp:s,onChange:i});return n.jsx(Wn,{scope:t,triggerRef:c,contentRef:m,contentId:Ce(),titleId:Ce(),descriptionId:Ce(),open:f,onOpenChange:h,onOpenToggle:o.useCallback(()=>h(v=>!v),[h]),modal:l,children:r})};Ct.displayName=Me;var wt="DialogTrigger",jt=o.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=O(wt,r),i=z(t,s.triggerRef);return n.jsx(I.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ie(s.open),...a,ref:i,onClick:B(e.onClick,s.onOpenToggle)})});jt.displayName=wt;var Le="DialogPortal",[Bn,Et]=Nt(Le,{forceMount:void 0}),St=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:s}=e,i=O(Le,t);return n.jsx(Bn,{scope:t,forceMount:r,children:o.Children.map(a,l=>n.jsx(xe,{present:r||i.open,children:n.jsx(ft,{asChild:!0,container:s,children:l})}))})};St.displayName=Le;var pe="DialogOverlay",At=o.forwardRef((e,t)=>{const r=Et(pe,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,i=O(pe,e.__scopeDialog);return i.modal?n.jsx(xe,{present:a||i.open,children:n.jsx($n,{...s,ref:t})}):null});At.displayName=pe;var $n=o.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=O(pe,r);return n.jsx(yt,{as:ge,allowPinchZoom:!0,shards:[s.contentRef],children:n.jsx(I.div,{"data-state":Ie(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),q="DialogContent",kt=o.forwardRef((e,t)=>{const r=Et(q,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,i=O(q,e.__scopeDialog);return n.jsx(xe,{present:a||i.open,children:i.modal?n.jsx(Vn,{...s,ref:t}):n.jsx(qn,{...s,ref:t})})});kt.displayName=q;var Vn=o.forwardRef((e,t)=>{const r=O(q,e.__scopeDialog),a=o.useRef(null),s=z(t,r.contentRef,a);return o.useEffect(()=>{const i=a.current;if(i)return Un(i)},[]),n.jsx(Dt,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:B(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:B(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:B(e.onFocusOutside,i=>i.preventDefault())})}),qn=o.forwardRef((e,t)=>{const r=O(q,e.__scopeDialog),a=o.useRef(!1),s=o.useRef(!1);return n.jsx(Dt,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(a.current||(c=r.triggerRef.current)==null||c.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var m,f;(m=e.onInteractOutside)==null||m.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;((f=r.triggerRef.current)==null?void 0:f.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Dt=o.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=e,c=O(q,r),m=o.useRef(null),f=z(t,m);return Jr(),n.jsxs(n.Fragment,{children:[n.jsx(ut,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:n.jsx(ct,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Ie(c.open),...l,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(zn,{titleId:c.titleId}),n.jsx(Yn,{contentRef:m,descriptionId:c.descriptionId})]})]})}),Fe="DialogTitle",Rt=o.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=O(Fe,r);return n.jsx(I.h2,{id:s.titleId,...a,ref:t})});Rt.displayName=Fe;var Pt="DialogDescription",Tt=o.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=O(Pt,r);return n.jsx(I.p,{id:s.descriptionId,...a,ref:t})});Tt.displayName=Pt;var Ot="DialogClose",Mt=o.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=O(Ot,r);return n.jsx(I.button,{type:"button",...a,ref:t,onClick:B(e.onClick,()=>s.onOpenChange(!1))})});Mt.displayName=Ot;function Ie(e){return e?"open":"closed"}var Lt="DialogTitleWarning",[da,Ft]=Nr(Lt,{contentName:q,titleName:Fe,docsSlug:"dialog"}),zn=({titleId:e})=>{const t=Ft(Lt),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return o.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Hn="DialogDescriptionWarning",Yn=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ft(Hn).contentName}}.`;return o.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},Kn=Ct,Gn=jt,Xn=St,It=At,_t=kt,Ut=Rt,Wt=Tt,Zn=Mt;const Qn=Kn,Jn=Gn,ea=Xn,Bt=o.forwardRef(({className:e,...t},r)=>n.jsx(It,{ref:r,className:Z("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Bt.displayName=It.displayName;const $t=o.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(ea,{children:[n.jsx(Bt,{}),n.jsxs(_t,{ref:a,className:Z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(Zn,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(he,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$t.displayName=_t.displayName;const Vt=({className:e,...t})=>n.jsx("div",{className:Z("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Vt.displayName="DialogHeader";const qt=o.forwardRef(({className:e,...t},r)=>n.jsx(Ut,{ref:r,className:Z("text-lg font-semibold leading-none tracking-tight",e),...t}));qt.displayName=Ut.displayName;const ta=o.forwardRef(({className:e,...t},r)=>n.jsx(Wt,{ref:r,className:Z("text-sm text-muted-foreground",e),...t}));ta.displayName=Wt.displayName;const ra=ir("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),me=o.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...s},i)=>{const l=a?ge:"button";return n.jsx(l,{className:Z(ra({variant:t,size:r,className:e})),ref:i,...s})});me.displayName="Button";const na=({message:e,type:t,onClose:r})=>{const a={initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100}};return n.jsxs(Re.div,{variants:a,initial:"initial",animate:"animate",exit:"exit",className:`flex items-center w-80 p-4 rounded-lg border shadow-lg ${t==="success"?"bg-green-50 border-green-200 text-green-800":t==="error"?"bg-red-50 border-red-200 text-red-800":"bg-yellow-50 border-yellow-200 text-yellow-800"}`,children:[n.jsx("div",{className:"flex-shrink-0",children:t==="success"?"✅":t==="error"?"❌":"⚠️"}),n.jsx("div",{className:"ml-3 flex-grow font-medium text-sm",children:e}),n.jsx("button",{onClick:r,className:"flex-shrink-0 ml-2 text-current opacity-70 hover:opacity-100",children:n.jsx(he,{className:"w-4 h-4"})})]})},fa=()=>{const[e,t]=o.useState("users"),[r,a]=o.useState(!0),[s,i]=o.useState(!0),[l,c]=o.useState(null),[m,f]=o.useState([]),[h,v]=o.useState([]),[p,y]=o.useState([]),[S,d]=o.useState(""),[g,N]=o.useState(""),[D,j]=o.useState(!1),[C,A]=o.useState(null),[P,E]=o.useState({}),[T,L]=o.useState(!1),[M,_e]=o.useState(null),[w,_]=o.useState({semester:"",subject:"",chapter:"",ytLink:"",pyqs:"",notes:""}),Q=rr(),R=(u,b)=>{const x=Math.random().toString(36).substr(2,9);f(k=>[...k,{id:x,message:u,type:b}]),setTimeout(()=>Ue(x),4e3)},Ue=u=>{f(b=>b.filter(x=>x.id!==u))};o.useEffect(()=>{(async()=>{try{i(!0);const b=or.onAuthStateChanged(async x=>{if(!x){c("Authentication required. Please log in."),Q("/login");return}try{if(!await se.isAdmin(x.uid)){c("Access denied. Admin privileges required."),Q("/");return}await We(),c(null)}catch(k){console.error("Error checking admin status:",k),c("Error verifying admin access: "+k.message),Q("/")}finally{i(!1),a(!1)}});return()=>b()}catch(b){console.error("Error in auth check:",b),c("Authentication error occurred"),i(!1),a(!1)}})()},[Q]);const We=async()=>{try{a(!0),A(null);const u=await Promise.allSettled([te(),be()]);u[0].status==="rejected"&&(console.error("User data loading failed:",u[0].reason),A(u[0].reason.message||"Failed to load user data"),R("Failed to load user data: "+u[0].reason.message,"error")),u[1].status==="rejected"&&(console.error("Curriculum data loading failed:",u[1].reason),R("Failed to load curriculum data: "+u[1].reason.message,"error")),u[0].status==="rejected"&&u[1].status==="rejected"&&R("Failed to load admin panel data. Please refresh the page.","error")}catch(u){console.error("Error loading data:",u),R("Failed to load some data: "+u.message,"error")}finally{a(!1)}},te=async()=>{try{console.log("Starting to load user data...");const[u,b]=await Promise.allSettled([cr.getUsers(),se.getAdmins()]);if(u.status==="fulfilled")console.log("Users loaded successfully:",u.value),v(u.value||[]);else throw console.error("Failed to load users:",u.reason),v([]),new Error(`Failed to load users: ${u.reason.message}`);b.status==="fulfilled"?(console.log("Admins loaded successfully:",b.value),y(b.value||[])):(console.error("Failed to load admins:",b.reason),y([]),R("Failed to load admin list: "+b.reason.message,"warning"))}catch(u){throw console.error("Error in loadUserData:",u),new Error("Failed to load user data: "+u.message)}},zt=async()=>{if(!g.trim()){R("Please enter an email address","error");return}try{a(!0),await se.addAdmin(g.trim()),N(""),j(!1),await te(),R("Admin added successfully!","success")}catch(u){console.error("Error adding admin:",u),R("Failed to add admin: "+u.message,"error")}finally{a(!1)}},Ht=async u=>{if(confirm("Are you sure you want to remove this admin?"))try{a(!0),await se.removeAdmin(u),await te(),R("Admin removed successfully!","success")}catch(b){console.error("Error removing admin:",b),R("Failed to remove admin: "+b.message,"error")}finally{a(!1)}},be=async()=>{try{const u=await ee.getAllSemesters();E(u)}catch(u){throw console.error("Error loading curriculum:",u),new Error("Failed to load curriculum data")}},Ne=()=>{_({semester:"",subject:"",chapter:"",ytLink:"",pyqs:"",notes:""}),_e(null),L(!1)},Yt=async u=>{if(u.preventDefault(),!w.semester||!w.subject||!w.chapter){R("Please fill in all required fields","error");return}const b=["ytLink","pyqs","notes"];for(const x of b)if(w[x]&&!ee.validateUrl(w[x])){R(`Invalid URL in ${x}`,"error");return}try{a(!0);const x=`semester${w.semester}`,k={ytLink:w.ytLink,pyqs:w.pyqs,notes:w.notes};M?(await ee.updateChapter(x,w.subject,w.chapter,k),R("Chapter updated successfully!","success")):(await ee.addChapter(x,w.subject,w.chapter,k),R("Chapter added successfully!","success")),await be(),Ne()}catch(x){R("Failed to save chapter: "+x.message,"error")}finally{a(!1)}},Kt=(u,b,x,k)=>{_({semester:u.replace("semester",""),subject:b,chapter:x,ytLink:k.ytLink||"",pyqs:k.pyqs||"",notes:k.notes||""}),_e({semester:u,subject:b,chapter:x}),L(!0)},Gt=async(u,b,x)=>{if(confirm(`Are you sure you want to delete "${x}" from ${b}?`))try{a(!0),await ee.deleteChapter(u,b,x),R("Chapter deleted successfully!","success"),await be()}catch(k){R("Failed to delete chapter: "+k.message,"error")}finally{a(!1)}},Xt=u=>{if(!u)return[];const b=`semester${u}`,x=P[b];return x!=null&&x.subjects?Object.keys(x.subjects):[]},Zt=async()=>{try{const u=JSON.stringify(P,null,2),b=new Blob([u],{type:"application/json"}),x=URL.createObjectURL(b),k=document.createElement("a");k.href=x,k.download=`curriculum-data-${new Date().toISOString().split("T")[0]}.json`,k.click(),R("Data exported successfully! 📁","success")}catch(u){R("Export failed: "+u.message,"error")}},Be=h.filter(u=>{var x,k;const b=S.toLowerCase();return((x=u.name)==null?void 0:x.toLowerCase().includes(b))||((k=u.email)==null?void 0:k.toLowerCase().includes(b))});return s?n.jsx("div",{className:"min-h-screen bg-gray-50 pt-28 px-6 pb-6 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Verifying admin access..."})]})}):l?n.jsx("div",{className:"min-h-screen bg-gray-50 pt-28 px-6 pb-6",children:n.jsx(H,{children:n.jsx(J,{className:"p-6",children:n.jsxs("div",{className:"text-red-500 text-center",children:[n.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Error"}),n.jsx("p",{children:l}),n.jsx("button",{onClick:()=>Q("/"),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Return Home"})]})})})}):n.jsx("div",{className:"min-h-screen bg-[#FAF4ED] pt-28 px-6 pb-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-[#403C5C]",children:"Admin Panel 🛠️"}),n.jsx("div",{className:"flex gap-4",children:n.jsxs("button",{onClick:We,disabled:r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700 disabled:opacity-50",children:[n.jsx(pr,{className:`w-4 h-4 ${r?"animate-spin":""}`}),"Refresh"]})})]}),n.jsxs("div",{className:"flex mb-6 border-b border-gray-200",children:[n.jsxs("button",{onClick:()=>t("users"),className:`px-6 py-3 font-medium flex items-center gap-2 ${e==="users"?"text-[#403C5C] border-b-2 border-[#403C5C]":"text-gray-500 hover:text-[#403C5C]"}`,children:[n.jsx(dr,{className:"w-5 h-5"}),"User Management"]}),n.jsxs("button",{onClick:()=>t("curriculum"),className:`px-6 py-3 font-medium flex items-center gap-2 ${e==="curriculum"?"text-[#403C5C] border-b-2 border-[#403C5C]":"text-gray-500 hover:text-[#403C5C]"}`,children:[n.jsx(fr,{className:"w-5 h-5"}),"Curriculum Management"]})]}),e==="users"&&n.jsxs("div",{className:"space-y-6",children:[C&&n.jsx(H,{children:n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[n.jsx(hr,{className:"w-5 h-5"}),n.jsxs("span",{children:["User Data Error: ",C]}),n.jsx("button",{onClick:te,className:"ml-auto px-3 py-1 bg-red-100 text-red-700 rounded text-sm hover:bg-red-200",children:"Retry"})]})})}),n.jsxs(H,{children:[n.jsxs(ne,{className:"flex flex-row items-center justify-between",children:[n.jsxs(ae,{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx(qe,{className:"w-5 h-5 text-purple-500"}),"Admin Access Management"]}),n.jsxs(Qn,{open:D,onOpenChange:j,children:[n.jsx(Jn,{asChild:!0,children:n.jsxs(me,{variant:"outline",className:"flex items-center gap-2",children:[n.jsx(Ve,{className:"h-4 w-4"})," Add Admin"]})}),n.jsxs($t,{children:[n.jsx(Vt,{children:n.jsx(qt,{children:"Add New Admin"})}),n.jsxs("div",{className:"p-4",children:[n.jsx("input",{type:"email",placeholder:"Admin Email",value:g,onChange:u=>N(u.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsx(me,{onClick:zt,className:"mt-4 w-full",disabled:r,children:r?"Adding...":"Add Admin Access"})]})]})]})]}),n.jsx(J,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"px-4 py-3 text-left",children:"Email"}),n.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),n.jsx("tbody",{children:p.length>0?p.map(u=>n.jsxs("tr",{className:"border-b border-gray-100",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qe,{className:"h-4 w-4 text-purple-500"}),u.email]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs(me,{variant:"destructive",size:"sm",onClick:()=>Ht(u.id),className:"flex items-center gap-2",disabled:r,children:[n.jsx(he,{className:"h-4 w-4"}),"Remove"]})})]},u.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"2",className:"px-4 py-8 text-center text-gray-500",children:"No admins found or failed to load admin data"})})})]})})})]}),n.jsxs(H,{children:[n.jsxs(ne,{children:[n.jsx(ae,{className:"text-2xl font-bold",children:"User Management"}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{className:"relative w-full md:w-96",children:[n.jsx(lr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"text",placeholder:"Search users...",value:S,onChange:u=>d(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Total Users: ",h.length]})]})]}),n.jsx(J,{children:r?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(nr,{className:"h-4 w-4"}),"Name"]})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ar,{className:"h-4 w-4"}),"Email"]})}),n.jsx("th",{className:"px-4 py-3 text-left",children:"Status"})]})}),n.jsx("tbody",{children:Be.length>0?Be.map(u=>{var b;return n.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx("span",{className:"text-blue-600 font-medium",children:((b=u.name)==null?void 0:b.charAt(0).toUpperCase())||"?"})}),n.jsx("span",{className:"font-medium",children:u.name||"No Name"})]})}),n.jsx("td",{className:"px-4 py-3 text-gray-600",children:u.email||"No Email"}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.some(x=>x.id===u.id)?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:p.some(x=>x.id===u.id)?"Admin":"User"})})]},u.id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"3",className:"px-4 py-8 text-center text-gray-500",children:C?"Failed to load users - check your Firestore configuration":"No users found"})})})]})})})]})]}),e==="curriculum"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(H,{children:n.jsxs(ne,{className:"flex flex-row items-center justify-between",children:[n.jsx(ae,{className:"text-xl font-bold",children:"Curriculum Management 📚"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("button",{onClick:Zt,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[n.jsx(vr,{className:"w-4 h-4"}),"Export Data"]}),n.jsxs("button",{onClick:()=>L(!0),disabled:r,className:"bg-[#403C5C] text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-[#5C6BC0] disabled:opacity-50",children:[n.jsx(Ve,{className:"w-4 h-4"}),"Add Chapter"]})]})]})}),n.jsx("div",{className:"grid gap-6",children:Object.entries(P).map(([u,b])=>n.jsxs(H,{children:[n.jsx(ne,{children:n.jsx(ae,{className:"text-2xl font-bold text-[#403C5C]",children:u.replace("semester","Semester ")})}),n.jsx(J,{children:Object.entries(b.subjects||{}).map(([x,k])=>n.jsxs("div",{className:"mb-6 border-l-4 border-[#D6CFE9] pl-4",children:[n.jsx("h3",{className:"text-xl font-semibold text-[#403C5C] mb-3",children:x}),n.jsx("div",{className:"grid gap-3",children:Object.entries(k.chapters||{}).map(([re,$])=>n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-[#403C5C] mb-2",children:re}),n.jsxs("div",{className:"flex gap-2",children:[$.ytLink&&n.jsx("a",{href:$.ytLink,target:"_blank",rel:"noopener noreferrer",className:"text-red-500 hover:text-red-700",title:"YouTube Video",children:n.jsx(br,{className:"w-4 h-4"})}),$.notes&&n.jsx("a",{href:$.notes,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",title:"Notes",children:n.jsx(sr,{className:"w-4 h-4"})}),$.pyqs&&n.jsx("a",{href:$.pyqs,target:"_blank",rel:"noopener noreferrer",className:"text-green-500 hover:text-green-700",title:"Previous Year Questions",children:n.jsx(ur,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>Kt(u,x,re,$),className:"text-blue-500 hover:text-blue-700",title:"Edit",children:n.jsx(xr,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Gt(u,x,re),className:"text-red-500 hover:text-red-700",title:"Delete",children:n.jsx(yr,{className:"w-4 h-4"})})]})]})},re))})]},x))})]},u))})]}),n.jsx($e,{children:T&&n.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs(Re.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold text-[#403C5C]",children:M?"Edit Chapter":"Add New Chapter"}),n.jsx("button",{onClick:Ne,className:"text-gray-500 hover:text-gray-700",children:n.jsx(he,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:Yt,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Semester *"}),n.jsxs("select",{value:w.semester,onChange:u=>_({...w,semester:u.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",required:!0,disabled:M,children:[n.jsx("option",{value:"",children:"Select Semester"}),n.jsx("option",{value:"1",children:"Semester 1"}),n.jsx("option",{value:"2",children:"Semester 2"}),n.jsx("option",{value:"3",children:"Semester 3"}),n.jsx("option",{value:"4",children:"Semester 4"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject *"}),M?n.jsx("input",{type:"text",value:w.subject,className:"w-full p-2 border border-gray-300 rounded-md bg-gray-100",disabled:!0}):n.jsxs("select",{value:w.subject,onChange:u=>_({...w,subject:u.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",required:!0,children:[n.jsx("option",{value:"",children:"Select Subject"}),Xt(w.semester).map(u=>n.jsx("option",{value:u,children:u},u))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chapter *"}),n.jsx("input",{type:"text",value:w.chapter,onChange:u=>_({...w,chapter:u.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"e.g., Oscillations",required:!0,disabled:M})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"YouTube Link"}),n.jsx("input",{type:"url",value:w.ytLink,onChange:u=>_({...w,ytLink:u.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"https://youtube.com/..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes Link"}),n.jsx("input",{type:"url",value:w.notes,onChange:u=>_({...w,notes:u.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"https://drive.google.com/..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PYQs Link"}),n.jsx("input",{type:"url",value:w.pyqs,onChange:u=>_({...w,pyqs:u.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"https://drive.google.com/..."})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"submit",disabled:r,className:`flex-1 py-2 rounded-md flex items-center justify-center gap-2 ${r?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-[#403C5C] text-white hover:bg-[#5C6BC0]"}`,children:r?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(gr,{className:"w-4 h-4"}),M?"Update":"Save"]})}),n.jsx("button",{type:"button",onClick:Ne,disabled:r,className:"flex-1 bg-gray-300 text-gray-700 py-2 rounded-md hover:bg-gray-400 disabled:opacity-50",children:"Cancel"})]})]})]})})}),n.jsx("div",{className:"fixed top-24 right-4 z-50 flex flex-col gap-2",children:n.jsx($e,{children:m.map(u=>n.jsx(na,{message:u.message,type:u.type,onClose:()=>Ue(u.id)},u.id))})})]})})};export{fa as default};
